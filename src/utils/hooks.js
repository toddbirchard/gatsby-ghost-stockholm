import { useEffect } from 'react'

export const useClickOutside = (ref, handler, events) => {
    if (!events) {
        events = [`mousedown`, `touchstart`]
    }
    const detectClickOutside = event => !ref.current.contains(event.target) && handler()
    useEffect(() => {
        for (const event of events) {
            document.addEventListener(event, detectClickOutside)
        }
        return () => {
            for (const event of events) {
                document.removeEventListener(event, detectClickOutside)
            }
        }
    })
}
